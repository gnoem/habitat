datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Habit {
  id            Int           @default(autoincrement()) @id
  name          String
  icon          String?
  color         String?
  label         String
  unit          String?
  user          User          @relation(fields: [userId], references: [id])
  userId        Int
  @@map(name: "habits")
}

model User {
  id            Int           @default(autoincrement()) @id
  name          String?
  email         String        @unique
  password      String?
  habits        Habit[]
  entries       Entry[]
  @@map(name: "users")
}

model Record {
  id            Int           @default(autoincrement()) @id
  habitId       Int
  amount        Int?
  check         Boolean
  entry         Entry         @relation(fields: [entryId], references: [id])
  entryId       Int
  @@map(name: "records")
}

model Entry {
  id            Int           @default(autoincrement()) @id
  date          DateTime
  records       Record[]
  user          User          @relation(fields: [userId], references: [id])
  userId        Int
  @@map(name: "entries")
}
