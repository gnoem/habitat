datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id            Int           @default(autoincrement()) @id
  name          String?
  email         String        @unique
  password      String?
  habits        Habit[]
  entries       Entry[]
  settings      Settings
  @@map(name: "users")
}

model Settings {
  dashboard__defaultView          String
  appearance__clock24hr           Boolean
  appearance__clockSeconds        Boolean
  user                            User          @relation(fields: [userId], references: [id])
  userId                          Int
}

model Habit {
  id            Int           @default(autoincrement()) @id
  name          String
  icon          String?
  color         String?
  label         String?
  complex       Boolean?
  records       Record[]
  user          User?          @relation(fields: [userId], references: [id])
  userId        Int?
  @@map(name: "habits")
}

model Entry {
  id            Int           @default(autoincrement()) @id
  date          String
  records       Record[]
  user          User          @relation(fields: [userId], references: [id])
  userId        Int
  @@map(name: "entries")
}

model Record {
  id            Int           @default(autoincrement()) @id
  habit         Habit?        @relation(fields: [habitId], references: [id])
  habitId       Int?
  amount        Int?
  check         Boolean
  entry         Entry?        @relation(fields: [entryId], references: [id])
  entryId       Int?
  @@map(name: "records")
}
